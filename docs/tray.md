# Всплывающее окно в трее (tray popup)

Описание поведения и реализации всплывающего окна, которое показывается при появлении новых писем.

## Основные характеристики
- **Размер**: Настраивается в настройках приложения (по умолчанию 650×150 px).
- **Прозрачность**: Регулируется слайдером (0.1-1.0, по умолчанию 0.95). При наведении мыши становится непрозрачным.
- **Внешний вид**: полупрозрачное окно с современным дизайном, градиентными кнопками и backdrop-blur эффектом.
- **Анимация**: плавное появление/исчезание через CSS transitions.

## Элементы управления
- **Кнопка `Перейти`** — открывает письмо в системном браузере по URL (используется Tauri API для открытия внешних ссылок).
- **Кнопка `Прочитано`** — отправляет запрос к Gmail API и помечает письмо как прочитанное, после чего UI обновляет список.
- **Кнопка `Отложить`** — откладывает проверку почты на заданное в настройках время (по умолчанию 20 минут).
- **Кнопка закрыть** (крестик) — скрывает popup без пометки письма.

## Настройки окна уведомлений
В разделе настроек доступны следующие параметры:
- **Ширина окна**: 300-1200 пикселей
- **Высота окна**: 100-600 пикселей
- **Прозрачность**: слайдер 0.1-1.0 для регулировки видимости окна
- **Длительность откладывания**: 1-1440 минут

## Звук и мультимедиа
- Звуковые файлы хранятся в `frontend/public/voice/`.
- Проигрывание осуществляется средствами фронтенда (HTMLAudioElement).
- Громкость настраивается в настройках приложения (0.0-1.0).

## Как это связано с Rust/Tauri
- Нативная часть (в `src-tauri`) создаёт и управляет иконкой в трее и вызывает показ/скрытие окна через команды Tauri.
- Размеры окна применяются динамически из настроек при каждом показе уведомления.
- Коммуникация между фронтом и бэком идёт через Tauri IPC (commands и events).

## Настройки поведения
- Интервал проверки почты настраивается в конфиге (15-300 секунд).
- Время автозакрытия popup, громкость звука и другие параметры доступны в разделе настроек приложения.

## Советы по улучшению
- Расширить возможности действий (ответ, архивировать, пометить звездочкой).
- Добавить поддержку нескольких аккаунтов и настройки приоритетов уведомлений.
- Добавить темную тему для окна уведомлений.

